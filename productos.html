<!DOCTYPE html>
<html lang="es">

  <head>
    <meta charset="UTF-8">
    <title>Productos - Makawi Store Cix</title>
    <link rel="icon" type="image/png" href="imagenes/MakawiLogoBg.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="Css/estilos.css">
    <style>
      /* Estilos para corregir el espaciado entre nav y contenido */
      body {
        padding-top: 130px !important;
        /* Ajustado para compensar el header fijo */
        overflow-x: hidden;
      }

      .header-principal {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1050;
        background-color: #fff;
        /* Asegura que el fondo sea visible */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        /* Añade sombra para separar visualmente */
      }

      /* Ajuste para el contenido principal */
      main {
        padding-top: 20px;
        /* Añadido padding adicional para mejor espaciado */
        margin-top: 0;
        /* Eliminado el margen ya que usamos padding en body */
        position: relative;
        z-index: 1;
        /* Asegura que el contenido esté por debajo del header pero visible */
      }

      /* Estilos para la barra de filtros mejorada */
      .filtros-container {
        background-color: #fff;
        border-radius: 15px;
        max-height: 80px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        padding: 15px 25px;
        margin-bottom: 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        /* max-width: 700px; */
        margin-left: auto;
        margin-right: auto;
        transition: all 0.3s ease;
      }

      .categorias {
        position: relative;
      }

      .categorias .form-select {
        background-color: white;
        border: 2px solid hotpink;
        color: black;
        border-radius: 30px;
        padding: 8px 15px 8px 40px;
        /* Ajustado padding */
        font-weight: 500;
        transition: all 0.3s ease;
        width: 100%;
        /* Asegura que ocupe todo el ancho del contenedor */
        height: auto;
        /* Asegura que la altura se ajuste al contenido */
        appearance: none;
        /* Elimina la apariencia nativa del select */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='hotpink' class='bi bi-chevron-down' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
        /* Icono personalizado */
        background-repeat: no-repeat;
        background-position: right 15px center;
        /* Posiciona el icono dentro del elemento */
        background-size: 12px;
        /* Ajusta el tamaño del icono */
      }

      .categorias .form-select:focus {
        border-color: hotpink;
        box-shadow: 0 0 0 0.25rem rgba(255, 105, 180, 0.25);
      }

      .categorias .icon-container {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: hotpink;
        z-index: 10;
        font-size: 1rem;
        /* Aumentado tamaño del icono */
      }

      .busqueda-container {
        position: relative;
        width: 45%;
      }

      .busqueda {
        background-color: white;
        border: 2px solid hotpink;
        color: black;
        border-radius: 30px;
        padding: 8px 15px 8px 40px;
        /* Ajustado padding */
        width: 100%;
        transition: all 0.3s ease;
        height: auto;
        /* Asegura que la altura se ajuste al contenido */
      }

      .busqueda:focus {
        outline: none;
        border-color: hotpink;
        box-shadow: 0 0 0 0.25rem rgba(255, 105, 180, 0.25);
      }

      .busqueda::placeholder {
        color: #aaa;
      }

      .busqueda-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: hotpink;
        z-index: 10;
        font-size: 1rem;
        /* Aumentado tamaño del icono */
      }

      /* Estilos para la cuadrícula de productos */
      .productos-container {
        background-color: #fff;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        padding: 5px;
      }

      .productos-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
      }



      .productos-header h2:after {
        content: '';
        position: absolute;
        width: 50%;
        height: 3px;
        background-color: hotpink;
        bottom: -8px;
        left: 0;
      }

      .productos-grid {
        display: grid;
        margin-bottom: 20px;
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 20px;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 25px;
      }

      .producto-card {
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        transition: all 0.3s ease;
        position: relative;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .producto-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .producto-img-container {
        position: relative;
        overflow: hidden;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .producto-img {
        width: 100%;
        height: auto;
        max-height: 100%;
        object-fit: contain;
        transition: transform 0.5s ease;
      }

      .producto-card:hover .producto-img {
        transform: scale(1.05);
      }

      .producto-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: hotpink;
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 1;
      }

      .producto-info {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }

      .producto-nombre {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: #333;
      }

      .producto-precio {
        font-size: 1.3rem;
        font-weight: 700;
        color: hotpink;
        margin-bottom: 15px;
      }

      .precio-original {
        text-decoration: line-through;
        color: #999;
        font-size: 0.9em;
        margin-right: 8px;
      }

      .precio-oferta {
        color: #e83e8c;
        font-weight: bold;
      }

      .producto-descripcion {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 15px;
        flex-grow: 1;
      }

      .producto-acciones {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
      }

      .btn-producto {
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.9rem;
        transition: all 0.3s ease;
      }

      .btn-detalles {
        background-color: transparent;
        color: hotpink;
        border: 1px solid hotpink;
      }

      .btn-detalles:hover {
        background-color: rgba(255, 105, 180, 0.1);
        color: #e83e8c;
      }

      .btn-agregar {
        background-color: hotpink;
        color: white;
        border: none;
        box-shadow: 0 3px 10px rgba(232, 62, 140, 0.2);
      }

      .btn-agregar:hover {
        background-color: #e83e8c;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(232, 62, 140, 0.3);
      }

      .btn-favorito {
        background-color: transparent;
        color: #666;
        border: none;
        font-size: 1.2rem;
        padding: 5px;
        transition: all 0.3s ease;
      }

      .btn-favorito:hover,
      .btn-favorito.active {
        color: hotpink;
        transform: scale(1.2);
      }

      /* Estilos para el modal de detalles */
      .modal-producto .modal-header {
        /* background-color: hotpink; */
        color: hotpink;
        border-bottom: none;
      }

      .modal-producto .modal-title {
        font-weight: 600;
      }

      .modal-producto .btn-close {
        color: hotpink;

      }

      .modal-producto .modal-body {
        padding: 30px;
      }

      .modal-producto-img {
        width: 100%;
        max-height: 300px;
        object-fit: contain;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .modal-producto-precio {
        font-size: 1.8rem;
        font-weight: 700;
        color: hotpink;
        margin-bottom: 20px;
      }

      .modal-producto-descripcion {
        margin-bottom: 25px;
        color: #555;
      }

      .modal-producto-cantidad {
        display: flex;
        align-items: center;
        margin-bottom: 25px;
      }

      .modal-producto-cantidad label {
        margin-right: 15px;
        font-weight: 600;
      }

      .cantidad-control {
        display: flex;
        align-items: center;
        border: 1px solid #ddd;
        border-radius: 30px;
        overflow: hidden;
      }

      .btn-cantidad {
        background-color: #f8f9fa;
        border: none;
        padding: 8px 15px;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .btn-cantidad:hover {
        background-color: #e9ecef;
      }

      .input-cantidad {
        width: 50px;
        border: none;
        text-align: center;
        font-weight: 600;
      }

      .input-cantidad:focus {
        outline: none;
      }

      .modal-footer {
        border-top: none;
        padding: 0 30px 30px;
      }

      .btn-modal-agregar {
        background-color: hotpink;
        color: white;
        border: none;
        border-radius: 30px;
        padding: 12px 30px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(232, 62, 140, 0.3);
      }

      .btn-modal-agregar:hover {
        background-color: #e83e8c;
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(232, 62, 140, 0.4);
      }

      /* Paginación */
      .pagination-container {
        margin-top: 40px;
        display: flex;
        justify-content: center;
      }

      .pagination .page-item.active .page-link {
        background-color: hotpink;
        border-color: hotpink;
      }

      .pagination .page-link {
        color: black;
      }

      .pagination .page-link:hover {
        color: white;
        background-color: hotpink;
      }

      /* Responsive */
      @media (max-width: 992px) {
        .productos-grid {
          grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }
      }

      @media (max-width: 768px) {
        body {
          padding-top: 110px !important;
          /* Reducido para móviles */
        }

        main {
          padding-top: 10px;
        }

        .productos-grid {
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }

        .productos-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .productos-header .form-select {
          width: 100%;
          margin-top: 15px;
        }

        /* Ajuste para el header en móviles */
        .header-principal {
          position: fixed;
          height: auto;
        }
      }

      @media (max-width: 576px) {
        .productos-grid {
          grid-template-columns: 1fr;
        }

        .filtros-container {
          flex-direction: column;
        }

        .categorias,
        .busqueda-container {
          width: 100%;
        }
      }
    </style>
  </head>

  <body>
    <div id="header-placeholder" class="header-principal"></div>

    <main class="productos-page">
      <section>
        <div class="filtros-container">
          <div class="categorias" style="width: 48%;">
            <div class="icon-container">
              <i class="bi bi-tags-fill"></i>
            </div>
            <select class="form-select" id="select-categorias">
              <option value="0">Todas las categorías</option>
              <!-- Aquí se cargarán dinámicamente las categorías desde la base de datos -->
            </select>
          </div>
          <div class="busqueda-container" style="width: 48%;">
            <div class="busqueda-icon">
              <i class="bi bi-search"></i>
            </div>
            <input type="text" placeholder="Buscar" class="busqueda" style="width: 100%;">
          </div>
        </div>

        <div class="productos-container">
          <div class="productos-header">
          </div>
          <div id="contenedor-productos" class="productos-grid"></div>
        </div>

        <!-- Paginación -->
        <div class="pagination-container">
          <nav aria-label="Navegación de páginas">
            <ul class="pagination">
              <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Anterior">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Siguiente">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </section>
      <a href="https://wa.me/51932204477" class="whatsapp-float" target="_blank" rel="noopener noreferrer">
        <i class="bi bi-whatsapp"></i>
      </a>
    </main>

    <div id="footer-placeholder"></div>

    <!-- Modal de Detalles del Producto -->
    <div class="modal fade modal-producto" id="detalleProductoModal" tabindex="-1"
      aria-labelledby="detalleProductoLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="detalleProductoLabel">Detalle del Producto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <a id="btnVerPaginaCompleta" href="#" class="btn btn-outline-secondary mb-3" target="_blank">
              <i class="bi bi-box-arrow-up-right me-2"></i>Ver página completa
            </a>
            <div class="row">
              <div class="col-md-6">
                <img id="detalleImagen" src="" alt="Producto" class="modal-producto-img">
              </div>
              <div class="col-md-6">
                <h5 id="detalleNombre" class="mb-3"></h5>
                <p class="text-muted" id="detalleCategoria"></p>
                <div class="modal-producto-precio">
                  <span id="detallePrecio"></span>
                </div>
                <p id="detalleDescripcion" class="modal-producto-descripcion"></p>
                <p id="detalleStock"></p>
                <div class="modal-producto-cantidad">
                  <label for="modal-cantidad">Cantidad:</label>
                  <div class="cantidad-control">
                    <button class="btn-cantidad" id="btn-disminuir">-</button>
                    <input type="number" id="modal-cantidad" class="input-cantidad" value="1" min="1" readonly>
                    <button class="btn-cantidad" id="btn-aumentar">+</button>
                  </div>
                </div>
                <button id="btnAgregarDesdeModal" class="btn btn-modal-agregar w-100 mt-4">
                  <i class="bi bi-cart-plus me-2"></i> Agregar al carrito
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast de notificación -->
    <div id="toast-perfil" class="toast-notificacion">
      <i class="bi me-2"></i>
      <span id="mensaje-perfil-toast"></span>
    </div>

    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div id="popups-placeholder"></div>
    <script src="Js/layout-loader.js"></script>
    <!-- No cargar main.js ya que duplica la funcionalidad de layout-loader.js -->
    <script src="Js/toast.js"></script>
    <script src="Js/productos.js"></script>

  </body>

</html>